<!doctype html>
<head><title>3D Model Resizer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
            <link rel="stylesheet" href="http://www.w3schools.com/lib/w3-theme-red.css">
                <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
                    <style>
                        body {
                            background:#fff;
                            padding:0;
                            margin:0;
                            font-weight: bold;
                            overflow:hidden;
                        }
                    </style>
</head>
<body>
	<link rel="stylesheet" href="styles/bootstrap.css">
	<link rel="stylesheet" href="styles/smt-bootstrap.css">
	<link rel="stylesheet" href="styles/custom-theme.css">

    <!-- Header -->

    <header class="w3-container w3-theme w3-padding" id="myHeader">
        <i onclick="" class="fa fa-bars w3-xlarge w3-opennav"></i>
        <div class="w3-center">
            <h4>CUSTOMIZE YOUR 3D MODEL PROPS</h4>
            <h1 class="w3-xxxlarge w3-animate-bottom">DO IT</h1>
            <div class="w3-padding-32">
                <button class="w3-btn w3-xlarge w3-theme-dark w3-hover-red" onclick="document.getElementById('id01').style.display='block'" style="font-weight:900;">TRY IT NOW</button>
            </div>
        </div>
    </header>

	<script src="scripts/jquery-3.1.0.js"></script>
	<script src="scripts/bootstrap.min.js"></script>
	<script src="scripts/vue.js"></script>
	<script src="scripts/vue-resource.min.js"></script>
	<iframe id="download_frame" style="display:none;"></iframe>
    
    <script src="scripts/three.js"></script>
    
    <script src="js/renderers/Projector.js"></script>
    <script src="js/renderers/CanvasRenderer.js"></script>
    
    <script src="js/libs/stats.min.js"></script>
    
    <script src="scripts/three.js"></script>
    <script src="js/loaders/OBJLoader.js"></script>
    
    <div class="container">
        {{ message }}
        <div class="row">
            <div class="col-sm-4">
                <div class="bs-component">
                    <div class="card">
                        <div class="card-image">
                            <img src="images/sword.jpg">
                                </div>
                        <div class="card-content">
                            <a class="card-header">Medieval Sword</a>
                            <div class="card-meta">Submitted on August 21</div>
                            <div class="card-description">A sharp sword to cut things with. Ooo pointy.</div>
                        </div>
                        <div class="card-extra card-content" style="text-align:center">
                            <a><i class="fa fa-user"></i><button class="btn btn-primary" v-on:click="requestModel">Customize</button></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="bs-component">
                    <div class="card">
                        <div class="card-image">
                            <img src="images/sword.jpg">
                                </div>
                        <div class="card-content">
                            <a class="card-header">Medieval Sword</a>
                            <div class="card-meta">Submitted on August 21</div>
                            <div class="card-description">A sharp sword to cut things with. Ooo pointy.</div>
                        </div>
                        <div class="card-extra card-content" style="text-align:center">
                            <a><i class="fa fa-user"></i><button class="btn btn-primary" v-on:click="requestModel">Customize</button></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="bs-component">
                    <div class="card">
                        <div class="card-image">
                            <img src="images/sword.jpg">
                                </div>
                        <div class="card-content">
                            <a class="card-header">Medieval Sword</a>
                            <div class="card-meta">Submitted on August 21</div>
                            <div class="card-description">A sharp sword to cut things with. Ooo pointy.</div>
                        </div>
                        <div class="card-extra card-content" style="text-align:center">
                            <a><i class="fa fa-user"></i><button class="btn btn-primary" v-on:click="requestModel">Customize</button></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    
    
    <script src="scripts/app.js"></script>
    
    <!-- 3D STUFF!!! -->
    
    <script>
        
        var container;
        
        var camera, scene, renderer;
        
        var mouseX = 0, mouseY = 0;
        
        var windowHalfX = window.innerWidth / 2;
        var windowHalfY = window.innerHeight / 2;
        
        
        init();
        animate();
        
        
        function init() {
            
            container = document.createElement( 'div' );
            // container.setAttribute('style', 'border:1px solid black; width:122px; height:160px;');
            
            document.body.appendChild( container );
            
            camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 2000 );
            camera.position.z = 250;
            
            // scene
            
            scene = new THREE.Scene();
            
            var ambient = new THREE.AmbientLight( 0x101030 );
            scene.add( ambient );
            
            var directionalLight = new THREE.DirectionalLight( 0xffeedd );
            directionalLight.position.set( 0, 0, 1 );
            scene.add( directionalLight );
            
            // texture
            
            var manager = new THREE.LoadingManager();
            manager.onProgress = function ( item, loaded, total ) {
                
                console.log( item, loaded, total );
                
            };
            
            var texture = new THREE.Texture();
            
            var onProgress = function ( xhr ) {
                if ( xhr.lengthComputable ) {
                    var percentComplete = xhr.loaded / xhr.total * 100;
                    console.log( Math.round(percentComplete, 2) + '% downloaded' );
                }
            };
            
            var onError = function ( xhr ) {
            };
            
            
            var loader = new THREE.ImageLoader( manager );
            loader.load( 'UV_Grid_Sm.jpg', function ( image ) {
                        
                        texture.image = image;
                        texture.needsUpdate = true;
                        
                        } );
                        
                        // model
                        
                        var loader = new THREE.OBJLoader( manager );
                        loader.load( 'male04.obj', function ( object ) {
                                    
                                    object.traverse( function ( child ) {
                                                    
                                                    if ( child instanceof THREE.Mesh ) {
                                                    
                                                    child.material.map = texture;
                                                    
                                                    }
                                                    
                                                    } );
                                    
                                    object.position.y = 0;
                                    scene.add( object );
                                    
                                    }, onProgress, onError );
                                    
                                    //
                                    
                                    renderer = new THREE.WebGLRenderer();
                                    renderer.setPixelRatio( window.devicePixelRatio );
                                    renderer.setSize( window.innerWidth * 0.75 , window.innerHeight * 0.75 );
                                    
                                    container.appendChild( renderer.domElement );
                                    
                                    document.addEventListener( 'mousemove', onDocumentMouseMove, false );
                                    
                                    //
                                    
                                    window.addEventListener( 'resize', onWindowResize, false );
                                    
        }
    
    function onWindowResize() {
        
        windowHalfX = window.innerWidth / 2;
        windowHalfY = window.innerHeight / 2;
        
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        
        renderer.setSize( window.innerWidth, window.innerHeight );
        
    }
    
    function onDocumentMouseMove( event ) {
        
        mouseX = ( event.clientX - windowHalfX ) / 2;
        mouseY = ( event.clientY - windowHalfY ) / 2;
        
    }
    
    
    function animate() {
        
        requestAnimationFrame( animate );
        render();
        
    }
    
    function render() {
        
        camera.position.x += ( mouseX - camera.position.x ) * .05;
        camera.position.y += ( - mouseY - camera.position.y ) * .05;
        
        camera.lookAt( scene.position );
        
        renderer.render( scene, camera );
        
    }
    
        </script>


    
    <footer class="w3-container w3-theme-dark">
        <h3>Footer</h3>
        <p>Powered by <a href="" target="_blank">Pepsi</a></p>
        <div style="position:relative;bottom:55px;" class="w3-tooltip w3-right">
            <span class="w3-text w3-theme w3-padding">Go To Top</span>&nbsp;
            <a class="w3-text-white" href="#myHeader"><span class="w3-xlarge">
                <i class="fa fa-chevron-circle-up"></i></span></a>
        </div>
        <p>Remember to check out our&nbsp;&nbsp;<a href="w3css_references.asp" class="w3-btn w3-theme" target="_blank">W3.CSS Reference</a></p>
    </footer>
</body>

